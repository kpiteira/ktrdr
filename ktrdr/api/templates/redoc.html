<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>{{ title }} - API Documentation</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="{{ branding.logo_url }}">
    
    <!-- ReDoc doesn't change outer page styles -->
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }
        
        .header {
            padding: 16px 0;
            background-color: {{ branding.secondary_color }};
            color: white;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .header-content {
            display: flex;
            align-items: center;
            padding: 0 32px;
            width: 100%;
            justify-content: space-between;
        }
        
        .header-title {
            font-size: 24px;
            font-weight: 500;
            color: white;
            text-decoration: none;
            display: flex;
            align-items: center;
        }
        
        .logo {
            height: 32px;
            margin-right: 10px;
        }
        
        .version-tag {
            background-color: {{ branding.primary_color }};
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 14px;
            margin-left: 10px;
        }
        
        .external-links {
            display: flex;
            gap: 20px;
        }
        
        .external-link {
            color: white;
            text-decoration: none;
            font-size: 14px;
            display: flex;
            align-items: center;
            transition: color 0.2s ease;
        }
        
        .external-link:hover {
            color: {{ branding.primary_color }};
        }
        
        .external-link-icon {
            margin-right: 5px;
        }
        
        .redoc-wrap {
            height: calc(100vh - 60px);
        }
        
        /* Custom theme options for ReDoc */
        :root {
            --theme-color: {{ branding.primary_color }};
            --text-color: #333;
            --header-bg-color: {{ branding.secondary_color }};
            --header-text-color: white;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <a href="/" class="header-title">
                <img class="logo" src="{{ branding.logo_url }}" alt="{{ branding.logo_alt }}">
                {{ title }}
                <span class="version-tag">v{{ version }}</span>
            </a>
            <div class="external-links">
                <a href="{{ openapi_url }}" class="external-link" target="_blank">
                    <svg class="external-link-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 10h-8v8"></path>
                        <polygon points="21 2 21 10 13 10"></polygon>
                        <path d="M3 10a9 9 0 0 1 9-9"></path>
                    </svg>
                    OpenAPI JSON
                </a>
                <a href="{{ api_prefix }}/docs" class="external-link">
                    <svg class="external-link-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20"></path>
                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2Z"></path>
                    </svg>
                    Swagger UI
                </a>
                <a href="{{ organization.github }}" class="external-link" target="_blank">
                    <svg class="external-link-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
                    </svg>
                    GitHub
                </a>
            </div>
        </div>
    </div>
    
    <div class="redoc-wrap">
        <redoc spec-url="{{ openapi_url }}"></redoc>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/redoc@next/bundles/redoc.standalone.js"></script>
</body>
</html>