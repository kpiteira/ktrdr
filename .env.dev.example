# KTRDR Local Development Environment Variables
# ==============================================
# Copy this file to .env.dev and customize as needed:
#   cp .env.dev.example .env.dev
#
# Most defaults work out of the box for local development.
# All KTRDR-specific variables use the KTRDR_* prefix.

# =============================================================================
# DATABASE (PostgreSQL + TimescaleDB)
# =============================================================================
KTRDR_DB_HOST=db
KTRDR_DB_PORT=5432
KTRDR_DB_NAME=ktrdr
KTRDR_DB_USER=ktrdr
KTRDR_DB_PASSWORD=localdev  # Change in production!

# =============================================================================
# BACKEND API
# =============================================================================
# JWT secret for API authentication (minimum 32 characters)
KTRDR_AUTH_JWT_SECRET=local-dev-secret-minimum-32-characters-long

# Backend URL (used by workers and agents for connection)
KTRDR_API_CLIENT_BASE_URL=http://backend:8000/api/v1

# =============================================================================
# IB GATEWAY (Interactive Brokers)
# =============================================================================
# IB Host Service runs natively on Mac (not in Docker)
KTRDR_IB_HOST_ENABLED=true
KTRDR_IB_HOST_HOST=host.docker.internal
KTRDR_IB_HOST_PORT=5001

# =============================================================================
# OBSERVABILITY
# =============================================================================
# OpenTelemetry endpoint for distributed tracing
KTRDR_OTEL_OTLP_ENDPOINT=http://jaeger:4317

# Grafana admin password (third-party, not KTRDR-prefixed)
GF_ADMIN_PASSWORD=admin

# =============================================================================
# WORKER CONFIGURATION
# =============================================================================
# Workers auto-register with backend using KTRDR_WORKER_PUBLIC_BASE_URL
# These are set per-service in docker-compose.yml:
#   backtest-worker-1: KTRDR_WORKER_PORT=5003, KTRDR_WORKER_PUBLIC_BASE_URL=http://backtest-worker-1:5003
#   backtest-worker-2: KTRDR_WORKER_PORT=5004, KTRDR_WORKER_PUBLIC_BASE_URL=http://backtest-worker-2:5004
#   training-worker-1: KTRDR_WORKER_PORT=5005, KTRDR_WORKER_PUBLIC_BASE_URL=http://training-worker-1:5005
#   training-worker-2: KTRDR_WORKER_PORT=5006, KTRDR_WORKER_PUBLIC_BASE_URL=http://training-worker-2:5006

# =============================================================================
# NOTES
# =============================================================================
# - All values above have sensible defaults in docker-compose.yml
# - You only need to create .env.dev if you want to override defaults
# - Never commit .env.dev (it's in .gitignore)
# - For production, use 1Password secrets injection (see deployment docs)
