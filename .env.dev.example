# KTRDR Local Development Environment Variables
# Copy this file to .env.dev and customize as needed:
#   cp .env.dev.example .env.dev
#
# Most defaults work out of the box for local development.

# =============================================================================
# DATABASE (PostgreSQL + TimescaleDB)
# =============================================================================
DB_HOST=db
DB_PORT=5432
DB_NAME=ktrdr
DB_USER=ktrdr
DB_PASSWORD=localdev  # Change in production!

# =============================================================================
# BACKEND API
# =============================================================================
# JWT secret for API authentication (minimum 32 characters)
JWT_SECRET=local-dev-secret-minimum-32-characters-long

# Backend URL (used by workers for registration)
KTRDR_API_URL=http://backend:8000

# =============================================================================
# IB GATEWAY (Interactive Brokers)
# =============================================================================
# IB Host Service runs natively on Mac (not in Docker)
USE_IB_HOST_SERVICE=true
IB_HOST_SERVICE_URL=http://host.docker.internal:5001

# =============================================================================
# OBSERVABILITY
# =============================================================================
# OpenTelemetry endpoint for distributed tracing
OTLP_ENDPOINT=http://jaeger:4317

# Grafana admin password
GF_ADMIN_PASSWORD=admin

# =============================================================================
# WORKER CONFIGURATION
# =============================================================================
# Workers auto-register with backend using WORKER_PUBLIC_BASE_URL
# These are set per-service in docker-compose.dev.yml:
#   backtest-worker-1: WORKER_PORT=5003, WORKER_PUBLIC_BASE_URL=http://backtest-worker-1:5003
#   backtest-worker-2: WORKER_PORT=5004, WORKER_PUBLIC_BASE_URL=http://backtest-worker-2:5004
#   training-worker-1: WORKER_PORT=5005, WORKER_PUBLIC_BASE_URL=http://training-worker-1:5005
#   training-worker-2: WORKER_PORT=5006, WORKER_PUBLIC_BASE_URL=http://training-worker-2:5006

# =============================================================================
# NOTES
# =============================================================================
# - All values above have sensible defaults in docker-compose.dev.yml
# - You only need to create .env.dev if you want to override defaults
# - Never commit .env.dev (it's in .gitignore)
# - For production, use 1Password secrets injection (see PLAN_4_SECRETS_CLI.md)
